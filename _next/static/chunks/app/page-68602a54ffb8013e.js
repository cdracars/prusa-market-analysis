(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5857:(e,s,t)=>{Promise.resolve().then(t.bind(t,84398))},84398:(e,s,t)=>{"use strict";t.d(s,{PrusaAnalysisDashboard:()=>M});var i=t(95155),r=t(12115),a=t(43463),l=t(69795);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:n("rounded-xl border bg-card text-card-foreground shadow",t),...r})});d.displayName="Card";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:n("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:n("font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:n("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:n("p-6 pt-0",t),...r})});p.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{ref:s,className:n("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var x=t(11125);let u=x.bL,h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(x.B8,{ref:s,className:n("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...r})});h.displayName=x.B8.displayName;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(x.l9,{ref:s,className:n("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...r})});m.displayName=x.l9.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(x.UC,{ref:s,className:n("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});f.displayName=x.UC.displayName;var g=t(58581),j=t(24817),v=t(15255),y=t(12800),N=t(66963),_=t(27112),b=t(86354),w=t(16161),k=t(49866),C=t.n(k),P=t(38668),S=t.n(P),R=t(94908),F=t(689);let B=R.bL;R.l9;let A=R.ZL;R.bm;let O=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(R.hJ,{ref:s,className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});O.displayName=R.hJ.displayName;let z=r.forwardRef((e,s)=>{let{className:t,children:r,...a}=e;return(0,i.jsxs)(A,{children:[(0,i.jsx)(O,{}),(0,i.jsxs)(R.UC,{ref:s,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[r,(0,i.jsxs)(R.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(F.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});z.displayName=R.UC.displayName;let E=e=>{let{className:s,...t}=e;return(0,i.jsx)("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};E.displayName="DialogHeader";let $=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(R.hE,{ref:s,className:n("text-lg font-semibold leading-none tracking-tight",t),...r})});$.displayName=R.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(R.VY,{ref:s,className:n("text-sm text-muted-foreground",t),...r})}).displayName=R.VY.displayName;var D=t(52604);function L(e){let{listing:s,isOpen:t,onClose:r}=e;if(!s)return null;let a=[];return s.price_vs_official&&s.price_vs_official<-100&&a.push("Significantly below MSRP"),s.rating_percent&&s.rating_percent>98&&a.push("Highly rated seller"),s.feedback_count&&s.feedback_count>1e3&&a.push("Experienced seller"),(0,i.jsx)(B,{open:t,onOpenChange:()=>r(),children:(0,i.jsxs)(z,{className:"max-w-2xl",children:[(0,i.jsx)(E,{children:(0,i.jsx)($,{children:s.title})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Price Details"}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("p",{children:["Base Price: $",s.price.toFixed(2)]}),null!==s.shipping_cost&&(0,i.jsxs)("p",{children:["Shipping: $",s.shipping_cost.toFixed(2)]}),null!==s.total_cost&&(0,i.jsxs)("p",{children:["Total: $",s.total_cost.toFixed(2)]}),null!==s.price_vs_official&&(0,i.jsxs)("p",{className:s.price_vs_official<0?"text-green-600":"text-red-600",children:["vs MSRP: $",s.price_vs_official.toFixed(2)]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Seller Information"}),(0,i.jsxs)("div",{className:"space-y-1",children:[s.rating_percent&&(0,i.jsxs)("p",{children:["Rating: ",s.rating_percent,"%"]}),s.feedback_count&&(0,i.jsxs)("p",{children:["Feedback: ",s.feedback_count]}),(0,i.jsxs)("p",{children:["Info: ",s.seller_info]})]})]})]}),a.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Standout Features"}),(0,i.jsx)("ul",{className:"list-disc list-inside",children:a.map((e,s)=>(0,i.jsx)("li",{className:"text-green-600",children:e},s))})]}),(0,i.jsx)("div",{className:"pt-4 flex justify-end",children:(0,i.jsxs)("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:["View Listing ",(0,i.jsx)(D.A,{size:16})]})})]})]})})}function M(){let[e,s]=(0,r.useState)(null),[t,a]=(0,r.useState)(!0),[l,n]=(0,r.useState)(null),[x,k]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async function(){try{let e=await fetch("/data/current/listings.json");if(!e.ok)throw Error("Failed to fetch data");let t=await e.json();s(t)}catch(e){n(e instanceof Error?e.message:"Failed to load data")}finally{a(!1)}})()},[]),t)return(0,i.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,i.jsx)("p",{className:"text-lg",children:"Loading data..."})});if(l)return(0,i.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,i.jsx)("p",{className:"text-lg text-red-500",children:l})});if(!e)return null;let P=e=>"Buy It Now"===e.auction_type?"Buy It Now":e.auction_time?new Date(e.auction_time.end_time)>new Date?"Active Auction":"Auction Ended":e.auction_type,R=e=>e.auction_time?e.auction_time.time_remaining:"Not an auction",F=e=>{let s={printers:{},upgrades:{}};return e.forEach(e=>{let t=null!==e.price_vs_official&&e.price_vs_official<-100,i=null!==e.rating_percent&&e.rating_percent>98,r=null!==e.feedback_count&&e.feedback_count>1e3;if(t||i&&r){if("printers"==("printer"===e.category?"printers":"upgrades"))s.printers[e.model]||(s.printers[e.model]=[]),s.printers[e.model].push(e);else{let t=B(e.title);s.upgrades[t]||(s.upgrades[t]=[]),s.upgrades[t].push(e)}}}),s},B=e=>{let s=e.toLowerCase(),t=[{type:"Hotend",keywords:["hotend"]},{type:"Frame",keywords:["frame"]},{type:"Nozzle",keywords:["nozzle"]},{type:"Extruder",keywords:["extruder"]},{type:"Sheet",keywords:["sheet"]},{type:"Bondtech",keywords:["bondtech"]},{type:"Bear",keywords:["bear"]},{type:"PINDA",keywords:["pinda"]}].find(e=>e.keywords.some(e=>s.includes(e)));return t?t.type:"Other"},A=Object.entries(C()(e.listings,"model")).map(e=>{let[s,t]=e;return{model:s,avgPrice:S()(t,"price"),count:t.length,belowMSRP:t.filter(e=>null!==e.price_vs_official&&e.price_vs_official<0).length,withShipping:t.filter(e=>null!==e.shipping_cost).length}}),O=Object.entries(C()(e.listings.filter(e=>"upgrade"===e.category),e=>{let s=e.title.toLowerCase();return s.includes("hotend")?"Hotend":s.includes("frame")?"Frame":s.includes("nozzle")?"Nozzle":s.includes("extruder")?"Extruder":s.includes("sheet")?"Sheet":s.includes("bondtech")?"Bondtech":s.includes("bear")?"Bear":s.includes("pinda")?"PINDA":"Other"})).map(e=>{let[s,t]=e;return{type:s,count:t.length,avgPrice:S()(t,"price")}}),z=e=>{let{model:s,listings:t}=e;return(0,i.jsxs)(d,{children:[(0,i.jsx)(c,{children:(0,i.jsx)(o,{children:s})}),(0,i.jsx)(p,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("p",{children:["Count: ",t.length]}),(0,i.jsxs)("p",{children:["Average Price: $",S()(t,"price").toFixed(2)]}),(0,i.jsxs)("p",{children:["Below MSRP:"," ",t.filter(e=>null!==e.price_vs_official&&e.price_vs_official<0).length]}),(0,i.jsxs)("p",{children:["With Shipping:"," ",t.filter(e=>null!==e.shipping_cost).length]}),(0,i.jsxs)("p",{children:["Auction Types:"," ",Object.entries(C()(t,"auction_type")).map(e=>{let[s,t]=e;return"".concat(s,": ").concat(t.length)}).join(", ")]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Best Deals"}),t.filter(e=>null!==e.price_vs_official&&e.price_vs_official<0).sort((e,s)=>(e.price_vs_official||0)-(s.price_vs_official||0)).slice(0,3).map((e,s)=>{var t;return(0,i.jsxs)("div",{className:"text-sm p-1 cursor-pointer hover:bg-gray-50 rounded",onClick:()=>k(e),children:["$",e.price.toFixed(2)," ($",null===(t=e.price_vs_official)||void 0===t?void 0:t.toFixed(2)," vs MSRP)","Buy It Now"!==e.auction_type&&(0,i.jsxs)("span",{className:"ml-2 text-xs text-gray-600",children:[P(e),e.auction_time&&" (".concat(R(e),")")]})]},s)})]})]})})]})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-full space-y-4",children:(0,i.jsxs)(u,{defaultValue:"overview",className:"w-full",children:[(0,i.jsxs)(h,{className:"grid w-full grid-cols-3",children:[(0,i.jsx)(m,{value:"overview",children:"Overview"}),(0,i.jsx)(m,{value:"models",children:"Models"}),(0,i.jsx)(m,{value:"upgrades",children:"Upgrades"})]}),(0,i.jsx)(f,{value:"overview",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)(d,{children:[(0,i.jsx)(c,{children:(0,i.jsx)(o,{children:"Total Listings Overview"})}),(0,i.jsx)(p,{children:(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(g.u,{width:"100%",height:"100%",children:(0,i.jsxs)(j.b,{data:A,margin:{top:5,right:30,left:20,bottom:5},children:[(0,i.jsx)(v.d,{strokeDasharray:"3 3"}),(0,i.jsx)(y.W,{dataKey:"model"}),(0,i.jsx)(N.h,{}),(0,i.jsx)(_.m,{}),(0,i.jsx)(b.s,{}),(0,i.jsx)(w.N,{type:"monotone",dataKey:"avgPrice",stroke:"#8884d8",name:"Avg Price"}),(0,i.jsx)(w.N,{type:"monotone",dataKey:"count",stroke:"#82ca9d",name:"Count"})]})})})})]}),(0,i.jsxs)(d,{children:[(0,i.jsx)(c,{children:(0,i.jsx)(o,{children:"Key Metrics"})}),(0,i.jsx)(p,{children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("p",{children:["Total Listings: ",e.listings.length]}),(0,i.jsxs)("p",{children:["Printers:"," ",e.listings.filter(e=>"printer"===e.category).length]}),(0,i.jsxs)("p",{children:["Upgrades:"," ",e.listings.filter(e=>"upgrade"===e.category).length]}),(0,i.jsxs)("p",{children:["Below MSRP:"," ",e.listings.filter(e=>null!==e.price_vs_official&&e.price_vs_official<0).length]})]})})]}),(0,i.jsx)(()=>{let s=F(e.listings);return(0,i.jsxs)(d,{children:[(0,i.jsx)(c,{children:(0,i.jsx)(o,{children:"Standout Listings"})}),(0,i.jsx)(p,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold mb-2 text-lg",children:"Printer Standouts"}),Object.entries(s.printers).map(e=>{let[s,t]=e;return(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("h4",{className:"font-semibold mb-1",children:s}),(0,i.jsx)("div",{className:"space-y-2",children:t.map((e,s)=>(0,i.jsxs)("div",{className:"p-2 border rounded-md cursor-pointer hover:bg-gray-50",onClick:()=>k(e),children:[(0,i.jsx)("p",{className:"font-medium",children:e.title}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["$",e.price.toFixed(2),null!==e.price_vs_official&&(0,i.jsxs)("span",{className:e.price_vs_official<0?"text-green-600 ml-2":"text-red-600 ml-2",children:["($",e.price_vs_official.toFixed(2)," vs MSRP)"]}),"Buy It Now"!==e.auction_type&&(0,i.jsxs)("span",{className:"ml-2 text-xs text-gray-600",children:[P(e),e.auction_time&&" (".concat(R(e),")")]})]})]},s))})]},s)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold mb-2 text-lg",children:"Upgrade Standouts"}),Object.entries(s.upgrades).map(e=>{let[s,t]=e;return(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("h4",{className:"font-semibold mb-1",children:[s," Upgrades"]}),(0,i.jsx)("div",{className:"space-y-2",children:t.map((e,s)=>(0,i.jsxs)("div",{className:"p-2 border rounded-md cursor-pointer hover:bg-gray-50",onClick:()=>k(e),children:[(0,i.jsx)("p",{className:"font-medium",children:e.title}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["$",e.price.toFixed(2),null!==e.price_vs_official&&(0,i.jsxs)("span",{className:e.price_vs_official<0?"text-green-600 ml-2":"text-red-600 ml-2",children:["($",e.price_vs_official.toFixed(2)," vs MSRP)"]}),"Buy It Now"!==e.auction_type&&(0,i.jsxs)("span",{className:"ml-2 text-xs text-gray-600",children:[P(e),e.auction_time&&" (".concat(R(e),")")]})]})]},s))})]},s)})]})]})})]})},{})]})}),(0,i.jsx)(f,{value:"models",children:(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(C()(e.listings,"model")).map(e=>{let[s,t]=e;return(0,i.jsx)(z,{model:s,listings:t},s)})})}),(0,i.jsx)(f,{value:"upgrades",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)(d,{children:[(0,i.jsx)(c,{children:(0,i.jsx)(o,{children:"Upgrade Types Distribution"})}),(0,i.jsx)(p,{children:(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(g.u,{width:"100%",height:"100%",children:(0,i.jsxs)(j.b,{data:O,margin:{top:5,right:30,left:20,bottom:5},children:[(0,i.jsx)(v.d,{strokeDasharray:"3 3"}),(0,i.jsx)(y.W,{dataKey:"type"}),(0,i.jsx)(N.h,{}),(0,i.jsx)(_.m,{}),(0,i.jsx)(b.s,{}),(0,i.jsx)(w.N,{type:"monotone",dataKey:"count",stroke:"#8884d8",name:"Count"}),(0,i.jsx)(w.N,{type:"monotone",dataKey:"avgPrice",stroke:"#82ca9d",name:"Avg Price"})]})})})})]}),(0,i.jsxs)(d,{children:[(0,i.jsx)(c,{children:(0,i.jsx)(o,{children:"Upgrade Statistics"})}),(0,i.jsx)(p,{children:(0,i.jsx)("div",{className:"space-y-2",children:O.map(s=>(0,i.jsxs)("div",{className:"border-b pb-2 cursor-pointer hover:bg-gray-50",onClick:()=>{let t=e.listings.filter(e=>"upgrade"===e.category&&e.title.toLowerCase().includes(s.type.toLowerCase())).sort((e,s)=>e.price-s.price)[0];t&&k(t)},children:[(0,i.jsx)("p",{className:"font-medium",children:s.type}),(0,i.jsxs)("p",{children:["Count: ",s.count]}),(0,i.jsxs)("p",{children:["Average Price: $",s.avgPrice.toFixed(2)]})]},s.type))})})]})]})})]})}),(0,i.jsx)(L,{listing:x,isOpen:null!==x,onClose:()=>k(null)})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[422,441,517,358],()=>s(5857)),_N_E=e.O()}]);